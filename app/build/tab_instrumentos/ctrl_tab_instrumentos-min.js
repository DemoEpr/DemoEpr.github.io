"use strict";angular.module("sarl.dashboard.instrumentos",[]).controller("TabInstrumentosCtrl",["$scope","ConfigFactory","LogFactory",function(e,o,t){var n=this;n.__init__=function(){console.log("Hello desde Controlador de la tab de instrumentos",t),n.instrumentos=o.get_config_instrumentos(),n.categories=n.get_categories(),n.meta=n.get_meta(),console.log(n.instrumentos),n.c1={text:"concepto con nombre",confirmed:!1,campos:[{id:"a89",value:15e5,placeholder:"t1",type:"number",icon:"number",tam:4},{id:"a90",value:1e6,placeholder:"t2",type:"number",icon:"percent",tam:2}]},n.c2={id:"id1",text:"",confirmed:!0,campos:[{id:"a1",value:0,placeholder:"t1"},{id:"a2",value:1e4,placeholder:"t2"},{id:"a3",value:3e4,placeholder:"t3"},{id:"a4",value:7998e4,placeholder:"t4"},{id:"a5",value:30645400,placeholder:"t9"}]}},n.get_categories=function(){return n.instrumentos.get_categories()},n.get_meta=function(){return n.instrumentos.get_meta()},n.get_meta_specific=function(e){if(n.meta.hasOwnProperty(e))return n.meta[e];log.error("La categoría "+e+" No se enconctró")},n.get_icon_category=function(e){return"income"===e?"glyphicon glyphicon-arrow-up green":"glyphicon glyphicon-arrow-down red"},n.commit_concept=function(e){console.log(e)},n.confirm=function(e){return console.log("Se ha confirmado un campo, TABINSTRUMENTOS",e),!0},e.read=function(o){XLSX.utils.sheet_to_json(o.Sheets.creditos).forEach(function(e){console.log(e);var o=parseInt(e.codigo),t=parseFloat(e.saldo_capital),a=parseFloat(e.tasa_periodica),c=parseInt(e.numero_cuotas),r=new Date(e.fecha_inicio);console.log(r,typeof r),n.add_new_credit(o,t,a,c,r)}),e.$apply()},e.error=function(e){console.log(e)},n.add_new_credit=function(e,o,t,a,c){var r=n.get_meta_specific("in_ing_esp")[0].components.facial;e=e||r.length+1,o=o||null,t=t||null,a=a||null,c=c||null;var i={codigo:e,text:"",confirmed:!1,campos:[{id:"a"+e,value:o,placeholder:"Saldo Capital",type:"number",icon:"number",tam:3},{id:"b"+e,value:t,placeholder:"Tasa Periódica",type:"number",icon:"percent",tam:2},{id:"c"+e,value:a,placeholder:"Cuotas",type:"number",icon:"integer",tam:2},{id:"d"+e,value:c,placeholder:"Fecha Inicio",type:"date",icon:"calendar",tam:3}]};r.push(i),console.log("nuevo credito",e)},n.fields=[{id:"id1",placeholder:"texto suave",valor:0},{id:"id2",placeholder:"texto suave2",valor:10}],n.__init__()}]);