<div ng-controller="TabIRLCtrl as ctrl"><h1>Cálculo del riesgo del IRL</h1><div class="alert alert-warning" ng-hide="ctrl.states.ready2Calc"><strong>Advertencia!</strong> No ha confirmado todas las fuentes requeridas en la tab instrumentos.</div><div class="row"><br><div class="col-md-2"></div><div class="col-md-3"><button ng-disabled="!ctrl.states.ready2Calc || ctrl.states.performingCalculation" class="normal-button" ng-click="ctrl.calculateIRL(ctrl.notifyState)">Calcular IRL</button></div><div class="col-md-5"><progress-bar value="ctrl.percent" state="ctrl.state"></progress-bar></div></div><hr><fieldset style="opacity: 0.7" ng-show="!ctrl.states.IRLCalculated" ng-disabled="true"><h2>Resultado anterior</h2><!--Imágenes del último reporte. Se muestra en gris.--><div style="margin-left: 20%"><draw-chart options="{vAxis: {format: '#,###%'}, title: 'IRL en razón', isStacked: true, seriesType: 'bars', series: {1: {type: 'line'}}, colors: ['green', 'red']}" data="[['Bandas', 'IRL en razón', 'IRL en monto', 'RLN'], ctrl.getBandsKey('alias'), ctrl.getOutputBands('irlr'), ctrl.getOutputBands('irlm'), ctrl.getOutputBands('rln')]" d-format="sep" standard-options="" chart-type="table"></draw-chart><!--<h3 class="IRLResultsGraphs">Gráficas de resultados</h3>--><!--<draw-chart options="{vAxis: {format: '#,###%'}, title: 'IRL en razón', isStacked: true, seriesType: 'bars', series: {1: {type: 'line'}}, colors: ['green', 'red']}"--><!--data="[['Bandas', 'IRL en razón', { role: 'style' }, 'IRL extremo'], ctrl.getBandsKey('alias'), ctrl.getOutputBands('irlr'), ctrl.getOutputBands('irlr').map(ctrl.colorMinValue('#FA8C00', 1)), ctrl.getOutputBands('irle')]"--><!--d-format="sep"--><!--standard-options=""--><!--chart-type="column"></draw-chart>--><!--<draw-chart options="{vAxis: {format: '$#'}, title: 'IRL en monto', isStacked: true, seriesType: 'bars', series: {1: {type: 'line'}}, colors: ['green', 'red']}"--><!--data="[['Bandas', 'IRL en monto', { role: 'style' }, 'IRL extremo'], ctrl.getBandsKey('alias'), ctrl.getOutputBands('irlm'), ctrl.getOutputBands('irlm').map(ctrl.colorMinValue('#FA8C00', 0)), ctrl.getOutputBands('irlem')]"--><!--d-format="sep"--><!--standard-options=""--><!--chart-type="column"></draw-chart>--></div></fieldset><div ng-show="ctrl.states.IRLCalculated"><h2>Resultado actual</h2>Para validar los siguientes resultados, debe hacer click en confirmar, de lo contrario, el reporte no sera guardado y se perderan los resultados obtenidos.<div ng-show="ctrl.states.confirmedReport" style="position: relative; left: 60%; font-size: 20px; top: 50px"><span class="glyphicon glyphicon-ok">Reporte confirmado</span></div><div style="margin-left: 20%"><draw-chart options="{vAxis: {format: '#,###%'}, title: 'IRL en razón', isStacked: true, seriesType: 'bars', series: {1: {type: 'line'}}, colors: ['green', 'red']}" data="[['Bandas', 'IRL en razón', 'IRL en monto', 'RLN'], ctrl.getBandsKey('alias'), ctrl.getOutputBands('irlr'), ctrl.getOutputBands('irlm'), ctrl.getOutputBands('rln')]" d-format="sep" standard-options="" chart-type="table"></draw-chart></div><div style="position: fixed; bottom: 50px; right: 100px"><!--<button class="big-button">Ver reporte</button>--> <button ng-disabled="ctrl.states.confirmedReport" class="big-button" ng-click="ctrl.confirmCurrentReport()">Confirmar</button></div></div><br><br><br></div>